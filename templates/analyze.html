{% extends "base.html" %}

{% block title %}Analyze Library{% endblock %}

{% block content %}

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flashes">
            {% for category, message in messages %}
                <div class="flash-message {{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<h1>Analyze Book Data</h1>

<p>Collect data on book ratings and much more.</p> 

{% if df_html %}
    <h2>Analysis Results</h2>
    <!-- Display DataFrame as HTML table -->
    <div>{{ df_html|safe }}</div>
{% endif %}

<!-- Button to start a new analysis -->
<form method="POST" action="{{ url_for('analyze') }}" class="nav-link">
    <button type="submit">Start New Analysis</button>
</form>

<!-- Button to go back to the library -->
<form method="GET" action="{{ url_for('home') }}" class="nav-link">
    <button type="submit">Go to Library</button>
</form>

{% endblock %}
